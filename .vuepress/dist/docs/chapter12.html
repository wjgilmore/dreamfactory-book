<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chapter 12. Creating File System APIs | Getting Started with DreamFactory</title>
    <meta name="description" content="A hands-on introduction to the powerful DreamFactory API generation platform">
    
    
    <link rel="preload" href="/assets/css/styles.6b877e42.css" as="style"><link rel="preload" href="/assets/js/app.6b877e42.js" as="script"><link rel="preload" href="/assets/js/18.f7adc784.js" as="script"><link rel="prefetch" href="/assets/css/1.styles.8e8fe409.css"><link rel="prefetch" href="/assets/css/2.styles.84ac1af2.css"><link rel="prefetch" href="/assets/js/1.8e8fe409.js"><link rel="prefetch" href="/assets/js/10.ca9d12b5.js"><link rel="prefetch" href="/assets/js/11.861d1b83.js"><link rel="prefetch" href="/assets/js/12.9c48f79a.js"><link rel="prefetch" href="/assets/js/13.b04c4acb.js"><link rel="prefetch" href="/assets/js/14.62efffa9.js"><link rel="prefetch" href="/assets/js/15.511338a8.js"><link rel="prefetch" href="/assets/js/16.143d7088.js"><link rel="prefetch" href="/assets/js/17.a18439bb.js"><link rel="prefetch" href="/assets/js/19.2d5f81c5.js"><link rel="prefetch" href="/assets/js/2.84ac1af2.js"><link rel="prefetch" href="/assets/js/20.7b6f240b.js"><link rel="prefetch" href="/assets/js/21.ec248db7.js"><link rel="prefetch" href="/assets/js/22.85b9630b.js"><link rel="prefetch" href="/assets/js/23.1b8fb598.js"><link rel="prefetch" href="/assets/js/24.b0779a1f.js"><link rel="prefetch" href="/assets/js/25.14eba55b.js"><link rel="prefetch" href="/assets/js/26.b1fcbd94.js"><link rel="prefetch" href="/assets/js/27.db190eae.js"><link rel="prefetch" href="/assets/js/28.e09c5e9a.js"><link rel="prefetch" href="/assets/js/29.4ee53634.js"><link rel="prefetch" href="/assets/js/3.46f1d2e5.js"><link rel="prefetch" href="/assets/js/30.b45780c6.js"><link rel="prefetch" href="/assets/js/31.54d1433d.js"><link rel="prefetch" href="/assets/js/32.050d1408.js"><link rel="prefetch" href="/assets/js/33.bdbc6cbc.js"><link rel="prefetch" href="/assets/js/34.cd0b60f3.js"><link rel="prefetch" href="/assets/js/35.d56f0ae2.js"><link rel="prefetch" href="/assets/js/36.389d1861.js"><link rel="prefetch" href="/assets/js/37.b7458b15.js"><link rel="prefetch" href="/assets/js/4.4b26f617.js"><link rel="prefetch" href="/assets/js/5.c74c5e46.js"><link rel="prefetch" href="/assets/js/6.721c9c65.js"><link rel="prefetch" href="/assets/js/7.cdf6cda6.js"><link rel="prefetch" href="/assets/js/8.86acf750.js"><link rel="prefetch" href="/assets/js/9.be6b1000.js">
    <link rel="stylesheet" href="/assets/css/1.styles.8e8fe409.css"><link rel="stylesheet" href="/assets/css/2.styles.84ac1af2.css"><link rel="stylesheet" href="/assets/css/styles.6b877e42.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/mark-white.png" alt="Getting Started with DreamFactory" class="logo"> <span class="site-name can-hide">Getting Started with DreamFactory</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://www.dreamfactory.com/contact" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.dreamfactory.com/contact" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Sales
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://genie.dreamfactory.com/register" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Free Hosted Trial
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://www.dreamfactory.com/contact" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contact
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.dreamfactory.com/contact" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Sales
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://genie.dreamfactory.com/register" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Free Hosted Trial
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Chapter 12. Creating File System APIs</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/chapter12.html#creating-an-sftp-rest-api" class="sidebar-link">Creating an SFTP REST API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/chapter12.html#generating-the-sftp-api-and-companion-documentation" class="sidebar-link">Generating the SFTP API and Companion Documentation</a></li><li class="sidebar-sub-header"><a href="/docs/chapter12.html#listing-directory-contents" class="sidebar-link">Listing Directory Contents</a></li><li class="sidebar-sub-header"><a href="/docs/chapter12.html#creating-a-folder" class="sidebar-link">Creating a Folder</a></li><li class="sidebar-sub-header"><a href="/docs/chapter12.html#creating-an-aws-s3-rest-api" class="sidebar-link">Creating an AWS S3 REST API</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="chapter-12-creating-file-system-apis"><a href="#chapter-12-creating-file-system-apis" aria-hidden="true" class="header-anchor">#</a> Chapter 12. Creating File System APIs</h1> <h2 id="creating-an-sftp-rest-api"><a href="#creating-an-sftp-rest-api" aria-hidden="true" class="header-anchor">#</a> Creating an SFTP REST API</h2> <p>SFTP (SSH File Transfer Protocol) is the secure version of FTP, capable of transferring data over a Secure Shell (SSH) data stream. Despite the media buzz being focused on file services like Dropbox and AWS S3, SFTP-based file transfers remain an indispensable part of IT infrastructures large and small. But incorporating SFTP functionality into a web application or system management script can be a real drag. Fortunately you can use DreamFactory to easily create a full-featured REST API for your SFTP servers. This API can perform all of the standard tasks associated with an SFTP server, including:</p> <ul><li>Creating, listing, updating, and deleting folders</li> <li>Creating, listing, retrieving, updating, and deleting files</li></ul> <p>In this tutorial we'll show you how to configure DreamFactory's SFTP connector, and then walk through several usage examples.</p> <h3 id="generating-the-sftp-api-and-companion-documentation"><a href="#generating-the-sftp-api-and-companion-documentation" aria-hidden="true" class="header-anchor">#</a> Generating the SFTP API and Companion Documentation</h3> <p>To generate your SFTP API, log into DreamFactory and click on the <code>Services</code> tab, then click the <code>Create</code> link located on the left side of the page. Click on the <code>Select Service Type</code> dropdown, navigate to the <code>File</code> category, and select <code>SFTP File Storage</code>:</p> <p><img src="/images/12/sftp-select.png" width="600"></p> <p>You'll be prompted to supply an API name, label, and description. Keep in mind the name must be lowercase and alphanumeric, as it will be used as the namespace within your generated API URI structure. The label and description are used for reference purposes within the administration console so you're free to title these as you please:</p> <p><img src="/images/12/sftp-create-info.png" width="600"></p> <p>Next, click the <code>Config</code> tab. There you'll supply the SFTP server connection credentials. There are however only 5 required fields:</p> <ul><li><strong>Host</strong>: The SFTP server hostname or IP address.</li> <li><strong>Port</strong>: The SFTP server port. This defaults to 22.</li> <li><strong>Username</strong>: The connecting account username.</li> <li><strong>Password</strong>: The connecting account password.</li> <li><strong>Root folder</strong>: The designated SFTP account root directory.</li></ul> <p>The other fields (<strong>Timeout</strong>, <strong>Host Finger Print</strong>, <strong>Private Key</strong>) are not always required, and depend upon your particular SFTP server's configuration.</p> <p>After saving your changes, head over to the <code>API Docs</code> tab to review the generated documentation. You'll be presented with a list of 13 generated endpoints:</p> <p><img src="/images/12/sftp-api-docs.png" width="600"></p> <h3 id="listing-directory-contents"><a href="#listing-directory-contents" aria-hidden="true" class="header-anchor">#</a> Listing Directory Contents</h3> <p>If the root directory you identified during the configuration process already contains a few files and/or directories, click on the <code>List the folder's content, including properties</code> endpoint and press <code>Try It Out</code>. Doing so will enable all of the supported parameters for this endpoint, allowing you to experiment. Scroll down to the <code>folder_path</code> parameter, set it to <code>/</code>, and press <code>Execute</code>. You should see output similar to the following:</p> <pre><code>{
  &quot;resource&quot;: [
    {
      &quot;path&quot;: &quot;Marketing/&quot;,
      &quot;type&quot;: &quot;folder&quot;,
      &quot;name&quot;: &quot;Marketing&quot;,
      &quot;last_modified&quot;: &quot;Tue, 23 Jul 2019 15:31:31 GMT&quot;
    },
    {
      &quot;path&quot;: &quot;Operations/&quot;,
      &quot;type&quot;: &quot;folder&quot;,
      &quot;name&quot;: &quot;Operations&quot;,
      &quot;last_modified&quot;: &quot;Tue, 23 Jul 2019 15:31:20 GMT&quot;
    }
  ]
}
</code></pre> <h3 id="creating-a-folder"><a href="#creating-a-folder" aria-hidden="true" class="header-anchor">#</a> Creating a Folder</h3> <p>To create a folder, you can use one of two endpoints:</p> <ul><li><code>POST / Create some folders and/or files</code></li> <li><code>POST /{folder_path}/ Create a folder and/or add content</code></li></ul> <p>These endpoints are identical in functionality, but their URI signatures differ so you might choose one over the other depending upon the desired approach. Let's start by creating a single empty folder. To do so, click on the <code>POST / Create some folders and/or files</code> endpoint inside API Docs, press the <code>Try It Out</code> button, and enter a folder name in the <code>X-Folder-Name</code> field. In the <code>folder_path</code> field enter the destination path, such as <code>/</code>. Press <code>Execute</code> and the folder will be created and a <code>201</code> response code returned with a response body that looks like this:</p> <pre><code>{
  &quot;name&quot;: &quot;Marketing&quot;,
  &quot;path&quot;: &quot;Marketing&quot;
}
</code></pre> <p>Note the <code>X-Folder-Name</code> field is identified as a header, meaning you'll need to handle it accordingly when performing an API call outside of API Docs. The screenshot below shows you how this is handled in the great HTTP testing client Insomnia:</p> <p><img src="/images/12/sftp-create-directory.png" width="600"></p> <h3 id="creating-an-aws-s3-rest-api"><a href="#creating-an-aws-s3-rest-api" aria-hidden="true" class="header-anchor">#</a> Creating an AWS S3 REST API</h3> <p>Section forthcoming.</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/18.f7adc784.js" defer></script><script src="/assets/js/app.6b877e42.js" defer></script>
  </body>
</html>
