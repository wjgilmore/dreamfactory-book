<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chapter 10. JavaScript Examples</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/styles.f471d3cf.css" as="style"><link rel="preload" href="/assets/js/app.f471d3cf.js" as="script"><link rel="preload" href="/assets/js/16.0aa4255d.js" as="script"><link rel="prefetch" href="/assets/css/1.styles.ff0206d7.css"><link rel="prefetch" href="/assets/css/2.styles.a2bd3099.css"><link rel="prefetch" href="/assets/js/1.ff0206d7.js"><link rel="prefetch" href="/assets/js/10.2d90a89e.js"><link rel="prefetch" href="/assets/js/11.53c043ac.js"><link rel="prefetch" href="/assets/js/12.7aed8f4f.js"><link rel="prefetch" href="/assets/js/13.06f66f13.js"><link rel="prefetch" href="/assets/js/14.7eb39753.js"><link rel="prefetch" href="/assets/js/15.87127419.js"><link rel="prefetch" href="/assets/js/17.8c1991cf.js"><link rel="prefetch" href="/assets/js/18.3b305b3a.js"><link rel="prefetch" href="/assets/js/19.bf43b8d5.js"><link rel="prefetch" href="/assets/js/2.a2bd3099.js"><link rel="prefetch" href="/assets/js/3.68c6b373.js"><link rel="prefetch" href="/assets/js/4.cf166653.js"><link rel="prefetch" href="/assets/js/5.e0359aa0.js"><link rel="prefetch" href="/assets/js/6.0f586051.js"><link rel="prefetch" href="/assets/js/7.d03e1c7c.js"><link rel="prefetch" href="/assets/js/8.5da0849f.js"><link rel="prefetch" href="/assets/js/9.bf2d46f1.js">
    <link rel="stylesheet" href="/assets/css/1.styles.ff0206d7.css"><link rel="stylesheet" href="/assets/css/2.styles.a2bd3099.css"><link rel="stylesheet" href="/assets/css/styles.f471d3cf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Chapter 10. JavaScript Examples</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/javascript.html#creating-a-simple-status-dashboard" class="sidebar-link">Creating a Simple Status Dashboard</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javascript.html#conclusion" class="sidebar-link">Conclusion</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="chapter-10-javascript-examples"><a href="#chapter-10-javascript-examples" aria-hidden="true" class="header-anchor">#</a> Chapter 10. JavaScript Examples</h1> <p>We regularly receive requests for examples involving connecting DreamFactory to a web interface. In this chapter we'll include several examples involving modern JavaScript technologies, and in the near future will provide a GitHub repository where these and other examples can be downloaded.</p> <h2 id="creating-a-simple-status-dashboard"><a href="#creating-a-simple-status-dashboard" aria-hidden="true" class="header-anchor">#</a> Creating a Simple Status Dashboard</h2> <p>This example demonstrates how to create a simple dashboard which will display status information (enabled or disabled) for a series of devices. Because a picture is worth a thousand words, let's start with a screenshot of the finished product:</p> <img src="/images/javascript-examples/status-dashboard.png" width="800"> <p>The device information is stored in a database table called <code>devices</code>. Naturally any DreamFactory-supported database could be used, however for sake of example we'll include the MySQL table creation statement here:</p> <pre><code>CREATE TABLE `devices` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(100) DEFAULT NULL,
  `status` tinyint(4) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=latin1;
</code></pre> <p>After generating the API within your DreamFactory instance (see <a href="/chapter03.html">chapter 3</a> to learn how to create a database-based API), it's time to create the web page which will interact with the API and present the data. We started by creating a new web page containing a simple HTML5 template. There are plenty such templates online, however we're fans of the version provided by <a href="https://www.sitepoint.com/a-basic-html5-template/" target="_blank" rel="noopener noreferrer">SitePoint<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Here's what the starter file looks like:</p> <pre><code>&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;

  &lt;title&gt;Status Dashboard&lt;/title&gt;
  &lt;meta name=&quot;description&quot; content=&quot;Simple status dashboard&quot;&gt;
  &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> <p>Next, we're going to take advantage of three popular open source/free solutions for executing AJAX calls and page design. These include:</p> <ul><li><a href="https://getbootstrap.com/" target="_blank" rel="noopener noreferrer">Bootstrap<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>: Bootstrap is the world's most popular front-end component data, used on hundreds of thousands if not millions of websites around the globe. We'll use Bootstrap's CSS styles for stylizing the tabular layout.</li> <li><a href="https://github.com/axios/axios" target="_blank" rel="noopener noreferrer">Axios<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>: Axios is a JavaScript-based HTTP client. We'll use Axios to craft AJAX calls which will talk to the database API.</li> <li><a href="https://fontawesome.com/" target="_blank" rel="noopener noreferrer">Font Awesome<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>: FontAwesome is a very popular icon library. We'll use two of FontAwesome's icons to visually depict device status.</li></ul> <p>With these libraries added, the template looks like this:</p> <pre><code>&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;

  &lt;title&gt;Status Dashboard&lt;/title&gt;
  &lt;meta name=&quot;description&quot; content=&quot;Simple status dashboard&quot;&gt;
  &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;

  &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css&quot; 
  integrity=&quot;sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS&quot; 
  crossorigin=&quot;anonymous&quot;&gt;

  &lt;link href=&quot;//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css&quot; type=&quot;text/css&quot; rel=&quot;stylesheet&quot;&gt;

  &lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;

&lt;/head&gt;

&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> <p>Next up is the JavaScript. We've purposely chosen to use standard JavaScript for this project rather than using more convenient third-party libraries such as React or VueJS. That said, we recognize there are far more eloquent JavaScript-based approaches to this problem, but didn't want to provide an example which required an additional learning curve or potentially extra configuration. With that said, add the following snippet to the <code>head</code> tag of your template, directly below the libraries we referenced in the previous snippet:</p> <pre><code>&lt;script&gt;

  var error = '';
  var rows = '';
  var disabled = &quot;&lt;i class='fa fa-exclamation-triangle' style='color: red;'&gt;&lt;/i&gt;&quot;;
  var enabled = &quot;&lt;i class='fa fa-thumbs-up' style='color: green;'&gt;&lt;/i&gt;&quot;;
  window.onload = function() {
    axios.get('https://example.com/api/v2/mysql/_table/devices', { 'headers': { 'X-DreamFactory-Api-Key': 'YOUR_API_KEY_GOES_HERE' }})
    .then(function (response) {

      for (var i= 0; i &lt; response.data.resource.length; i++) {
        if (response.data.resource[i].status == 0) {
          var status = disabled;
        } else {
          var status = enabled;
        }
        rows += &quot;&lt;tr&gt;&lt;td&gt;&quot; + response.data.resource[i].name + &quot;&lt;/td&gt;&lt;td&gt;&quot; + status + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;;

      }
      document.getElementById('rows').innerHTML = rows;
    })
    .catch(function (error) {
      error = error;

   });
};
&lt;/script&gt;
</code></pre> <p>The only required change you'll need to make to the above snippet is replacement of the <code>YOUR_API_KEY_GOES_HERE</code> with the actual API key you've configured to communicate with the API. If you don't know how to configure an API key, please refer to <a href="/chapter03.html">chapter 3</a>.</p> <p>All that remains is the HTML. In the following snippet you'll see we've defined a simple HTML table, adorned with CSS classes exposed by the Bootstrap library. The <code>tbody</code> element is assigned the <code>rows</code> ID, which is what the above JavaScript will use to insert the table rows into the appropriate page location:</p> <pre><code>&lt;div class=&quot;container&quot;&gt;
  &lt;div class=&quot;row&quot;&gt;
    &lt;div class=&quot;col&quot;&gt;
      &lt;h1&gt;Status Dashboard&lt;/h1&gt;
      &lt;table class=&quot;table table-striped table-bordered&quot;&gt;
        &lt;thead class=&quot;thead-dark&quot;&gt;
          &lt;th&gt;Device&lt;/th&gt;
          &lt;th&gt;Status&lt;/th&gt;
        &lt;/thead&gt;
        &lt;tbody id=&quot;rows&quot;&gt;
        &lt;/tbody&gt;
      &lt;/table&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre> <h2 id="conclusion"><a href="#conclusion" aria-hidden="true" class="header-anchor">#</a> Conclusion</h2> <p>Return to this chapter often as we'll be periodically updating it with new examples!</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/16.0aa4255d.js" defer></script><script src="/assets/js/app.f471d3cf.js" defer></script>
  </body>
</html>
